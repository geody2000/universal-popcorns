<!DOCTYPE html>

<html lang="en">

<head>

<title>Groovybox</title>

<script src="https://www.youtube.com/iframe_api"></script> 

<meta name="description" content="Tom's impeccable grooves.">

<meta charset="UTF-8">

<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" type="text/css" href="../../main.css">

<link rel="stylesheet" type="text/css" href="../../fonts/fonts.css">

<link rel="shortcut icon" type="image/x-icon" href="../favicons/favicon.ico">
<link rel="apple-touch-icon" sizes="180x180" href="../favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="../favicons/favicon-16x16.png">
<link rel="manifest" href="../favicons/site.webmanifest">

</head>

<body>
   
<div class="universal-popcorns-top-title"><a href="../../index.html">Universal Popcorns</a></div> 

<div class="back-arrow">
    <a href="../index.html#random-tom">
     <img src="../../icons/google/arrow-back.svg" alt="Back arrow.">
    </a> 
   </div>

<div class="wrapper-max-width">
   
<h1>Groovybox</h1>

<div id="player"></div>

	<script src="https://www.youtube.com/player_api"></script>
	<script>
		// array of video IDs
		var videoIds = ["SAa4teWb0rU", "EahKmJ4-tjY", "r1C69fzfGBM"];

		// shuffle the video IDs
		shuffleArray(videoIds);

		// create a new YouTube player
		var player;
		function onYouTubePlayerAPIReady() {
			player = new YT.Player('player', {
				height: '360',
				width: '640',
				videoId: videoIds[0],
				events: {
					'onStateChange': onPlayerStateChange
				}
			});
		}

		// function to shuffle an array
		function shuffleArray(array) {
			for (var i = array.length - 1; i > 0; i--) {
				var j = Math.floor(Math.random() * (i + 1));
				var temp = array[i];
				array[i] = array[j];
				array[j] = temp;
			}
			return array;
		}

		// function to load and play the next video
		function loadNextVideo() {
			// remove the current video from the array
			videoIds.splice(0, 1);

			// if there are no more videos, reshuffle the array
			if (videoIds.length === 0) {
				shuffleArray(videoIds);
			}

			// load and play the next video
			player.loadVideoById(videoIds[0]);
		}

		// function to handle the player state change event
    function onPlayerStateChange(event) {
  if (event.data == YT.PlayerState.ENDED) {
    // The current video has ended, play the next video
    player.loadPlaylist({
      playlist: videoIds,
      index: (currentIndex + 1) % videoIds.length
    });
  } else if (event.data == YT.PlayerState.ERROR) {
    // An error occurred while playing the video, play the next video
    player.loadPlaylist({
      playlist: videoIds,
      index: (currentIndex + 1) % videoIds.length
    });
  }
}
	</script>







</div>
</body>
</html>
